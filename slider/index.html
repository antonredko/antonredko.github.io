<html>
  <head>
    <meta charset="utf-8" />
    <title>Task 3</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="wrap" id="wrap">
      <h1>Переключение слайдера</h1>
      <div class="roadMap__container yellow">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint ball" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>

      <div class="roadMap__container red">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint" data-id="2"></div>
          <div class="roadMapPoint ball" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>

      <div class="roadMap__container blue">
        <button class="navButton"><</button>
        <div class="roadMap">
          <div class="roadMapPoint" data-id="1"></div>
          <div class="roadMapPoint ball" data-id="2"></div>
          <div class="roadMapPoint" data-id="3"></div>
          <div class="roadMapPoint" data-id="4"></div>
        </div>
        <button class="navButton">></button>
      </div>
    </div>


    
    <script>
    
      var yellow = document.getElementsByClassName("yellow");
      var navButton_Yellow = yellow[0].getElementsByClassName("navButton");
      var roadMapPoint_Yellow = yellow[0].getElementsByClassName("roadMap")[0].getElementsByClassName("roadMapPoint");
      
      function nextYellowBall() {
        for(i = 0; i < roadMapPoint_Yellow.length; i += 1) {
          if(roadMapPoint_Yellow[roadMapPoint_Yellow.length - 1].classList.contains("ball") == true) {
            roadMapPoint_Yellow[0].classList.add("ball");
            roadMapPoint_Yellow[roadMapPoint_Yellow.length - 1].classList.remove("ball");
          }             
          else if(roadMapPoint_Yellow[i].classList.contains("ball") == true) {
            roadMapPoint_Yellow[i + 1].classList.add("ball");
            roadMapPoint_Yellow[i].classList.remove("ball");
            break;
          }
        }
      }

      function prevYellowBall() {
        for(i = 0; i < roadMapPoint_Yellow.length; i += 1) {
          if(roadMapPoint_Yellow[0].classList.contains("ball") == true) {
            roadMapPoint_Yellow[roadMapPoint_Yellow.length - 1].classList.add("ball");
            roadMapPoint_Yellow[0].classList.remove("ball");
            break;
          }  
          else if(roadMapPoint_Yellow[i].classList.contains("ball") == true) {
            roadMapPoint_Yellow[i - 1].classList.add("ball");
            roadMapPoint_Yellow[i].classList.remove("ball");
            break;
          }
        }
      }
      
      navButton_Yellow[1].addEventListener("click", nextYellowBall);
      navButton_Yellow[0].addEventListener("click", prevYellowBall);
      

      var red = document.getElementsByClassName("red");
      var navButton_Red = red[0].getElementsByClassName("navButton");
      var roadMapPoint_Red = red[0].getElementsByClassName("roadMap")[0].getElementsByClassName("roadMapPoint");

      function nextRedBall() {
        for(i = 0; i < roadMapPoint_Red.length; i += 1) {
          if(roadMapPoint_Red[roadMapPoint_Red.length - 1].classList.contains("ball") == true) {
            roadMapPoint_Red[0].classList.add("ball");
            roadMapPoint_Red[roadMapPoint_Red.length - 1].classList.remove("ball");
          }             
          else if(roadMapPoint_Red[i].classList.contains("ball") == true) {
            roadMapPoint_Red[i + 1].classList.add("ball");
            roadMapPoint_Red[i].classList.remove("ball");
            break;
          }
        }
      }

      function prevRedBall() {
        for(i = 0; i < roadMapPoint_Red.length; i += 1) {
          if(roadMapPoint_Red[0].classList.contains("ball") == true) {
            roadMapPoint_Red[roadMapPoint_Red.length - 1].classList.add("ball");
            roadMapPoint_Red[0].classList.remove("ball");
            break;
          }  
          else if(roadMapPoint_Red[i].classList.contains("ball") == true) {
            roadMapPoint_Red[i - 1].classList.add("ball");
            roadMapPoint_Red[i].classList.remove("ball");
            break;
          }
        }
      }

      navButton_Red[1].addEventListener("click", nextRedBall);
      navButton_Red[0].addEventListener("click", prevRedBall);



      var blue = document.getElementsByClassName("blue");
      var navButton_Blue = blue[0].getElementsByClassName("navButton");
      var roadMapPoint_Blue = blue[0].getElementsByClassName("roadMap")[0].getElementsByClassName("roadMapPoint");

      function nextBlueBall() {
        for(i = 0; i < roadMapPoint_Blue.length; i += 1) {
          if(roadMapPoint_Blue[roadMapPoint_Blue.length - 1].classList.contains("ball") == true) {
            roadMapPoint_Blue[0].classList.add("ball");
            roadMapPoint_Blue[roadMapPoint_Blue.length - 1].classList.remove("ball");
          }             
          else if(roadMapPoint_Blue[i].classList.contains("ball") == true) {
            roadMapPoint_Blue[i + 1].classList.add("ball");
            roadMapPoint_Blue[i].classList.remove("ball");
            break;
          }
        }
      }

      function prevBlueBall() {
        for(i = 0; i < roadMapPoint_Blue.length; i += 1) {
          if(roadMapPoint_Blue[0].classList.contains("ball") == true) {
            roadMapPoint_Blue[roadMapPoint_Blue.length - 1].classList.add("ball");
            roadMapPoint_Blue[0].classList.remove("ball");
            break;
          }  
          else if(roadMapPoint_Blue[i].classList.contains("ball") == true) {
            roadMapPoint_Blue[i - 1].classList.add("ball");
            roadMapPoint_Blue[i].classList.remove("ball");
            break;
          }
        }
      }

      navButton_Blue[1].addEventListener("click", nextBlueBall);
      navButton_Blue[0].addEventListener("click", prevBlueBall);



      var roadMapPoint_All = document.getElementsByClassName("roadMapPoint");
      for(i = 0; i < roadMapPoint_All.length; i += 1) {
        roadMapPoint_All[i].addEventListener("click", function ballActive() {
          this.classList.toggle("ball");
        })
      }
    </script>
  </body>


</html>
